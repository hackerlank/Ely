<?xml version="1.0"?>
<Game>
	<!-- ------------------------------------------------ -->
	<!-- 		Object Templates Definitions              -->
	<!-- ------------------------------------------------ -->
	<ObjectTmplSet>
		<!-- template for wrapper around predefined nodepath - Mandatory -->
		<ObjectTmpl type="Render">
			<ComponentTmpl family="Scene" type="NodePathWrapper"/>
		</ObjectTmpl>
		<ObjectTmpl type="Camera">
			<ComponentTmpl family="Scene" type="NodePathWrapper"/>
<!--
			<ComponentTmpl family="Behavioral" type="Activity"/>
-->
			<ComponentTmpl family="Control" type="Driver"/>
			<ComponentTmpl family="Audio" type="Listener"/>
		</ObjectTmpl>
		<ObjectTmpl type="Actor">
			<ComponentTmpl family="Scene" type="Model"/>
<!--
			<ComponentTmpl family="Behavioral" type="Activity"/>
-->
			<ComponentTmpl family="Control" type="Driver"/>
			<ComponentTmpl family="Audio" type="Sound3d"/>
			<ComponentTmpl family="Physics" type="RigidBody"/> 
		</ObjectTmpl>
		<ObjectTmpl type="StaticActor">
			<ComponentTmpl family="Scene" type="Model"/>
			<ComponentTmpl family="Physics" type="RigidBody"/> 
		</ObjectTmpl>
		<!-- templates for instancing -->
		<ObjectTmpl type="Instanceable">
			<ComponentTmpl family="Scene" type="Model"/>
		</ObjectTmpl>
		<ObjectTmpl type="InstancedActor">
			<ComponentTmpl family="Scene" type="InstanceOf"/>
			<ComponentTmpl family="Audio" type="Sound3d"/>
			<ComponentTmpl family="Physics" type="RigidBody"/> 
		</ObjectTmpl>
		<ObjectTmpl type="Terrain">
			<ComponentTmpl family="Scene" type="Terrain"/>
			<ComponentTmpl family="Physics" type="RigidBody"/> 
		</ObjectTmpl>
	</ObjectTmplSet>

	<!-- ------------------------------------------------ -->
	<!-- 		Objects and Scene Creation                -->
	<!-- ------------------------------------------------ -->
	<ObjectSet>
		<!-- wrapper around render nodepath - Mandatory -->
		<Object type="Render" id="render" priority="1000">
			<Component type="NodePathWrapper">
				<Param nodepath="render"/>
			</Component>
			<Param parent=""/>
		</Object>	
		<Object type="Camera" id="camera" priority="1000">
			<Component type="NodePathWrapper" priority="100">
				<Param nodepath="camera"/>
			</Component>
<!--
			<Component type="Activity">
				<Param states="forward"/>
				<Param states="backward"/>
				<Param states="strafe_left"/>
				<Param states="strafe_right"/>
				<Param states="up"/>
				<Param states="down"/>
			</Component>
-->
			<Component type="Driver">
				<Param enabled="false"/>
				<Param speed="3.0"/>
				<Param fast_factor="10.0"/>
				<Param roll_left=""/>
				<Param roll_right=""/>
				<Param inverted_keyboard="true"/>
				<Param inverted_mouse="false"/>
				<Param mouse_enabled_h="true"/>
				<Param mouse_enabled_p="true"/>
				<Param events="w"/>
				<Param events="w-up"/>
				<Param events="shift-w"/>
				<Param events="s"/>
				<Param events="s-up"/>
				<Param events="shift-s"/>
				<Param events="a"/>
				<Param events="a-up"/>
				<Param events="shift-a"/>
				<Param events="d"/>
				<Param events="d-up"/>
				<Param events="shift-d"/>
				<Param events="r"/>
				<Param events="r-up"/>
				<Param events="shift-r"/>
				<Param events="f"/>				
				<Param events="f-up"/>
				<Param events="shift-f"/>
			</Component>
			<Param parent=""/>
		</Object>	
		<Object type="InstancedActor" id="InstancedTeapot1">
			<Param parent="render"/>
			<Param is_static="false"/>
			<Param pos_x="-10.0"/>
			<Param pos_y="0.0"/>
			<Param pos_z="3.0"/>
			<Param rot_h="-90.0"/>
			<Param rot_p="0.0"/>
			<Param rot_r="0.0"/>
			<Component type="RigidBody" priority="90">
				<Param body_type="dynamic"/>
				<Param body_mass="1.0"/>
				<Param body_friction="0.8"/>
				<Param body_restitution="0.5"/>
				<Param shape_type="capsule"/>
				<Param collide_mask="all_on"/>
			</Component> 
			<Component type="InstanceOf" priority="100">
				<Param instance_of="Teapot1"/>
				<Param scale_x="0.5"/>
				<Param scale_y="0.5"/>
				<Param scale_z="3.0"/>
			</Component>
		</Object>
		<Object type="Instanceable" id="Teapot1" priority="100">
			<Component type="Model" priority="100">
				<Param model_file="teapot"/>
				<Param is_static="true"/>
				<Param scale_x="0.5"/>
				<Param scale_y="0.5"/>
				<Param scale_z="0.5"/>
			</Component>
			<Param parent=""/>
		</Object>
		<Object type="StaticActor" id="Plane1">
			<Component type="Model" priority="100">
				<Param from_file="false"/>
				<Param is_static="true"/>
				<Param model_type="card"/>
				<Param model_card_left="-1000.0"/>
				<Param model_card_right="1000.0"/>
				<Param model_card_bottom="-1000.0"/>
				<Param model_card_top="1000.0"/>
			</Component>
			<Component type="RigidBody" priority="90">
				<Param body_type="static"/>
				<Param body_friction="0.9"/>
				<Param body_restitution="0.2"/>
				<Param shape_type="plane"/>
				<Param shape_norm_x="0.0"/>
				<Param shape_norm_y="-1.0"/>
				<Param shape_norm_z="0.0"/>
				<Param shape_d="0.0"/>
			</Component> 
			<Param parent="render"/>
			<Param rot_p="-90.0"/>
		</Object>
		<Object type="Actor" id="Actor1"  priority="100">
<!--
			<Component type="Activity">
				<Param states="forward"/>
				<Param states="backward"/>
				<Param states="strafe_left"/>
				<Param states="strafe_right"/>
				<Param states="up"/>
				<Param states="down"/>
			</Component>
-->
			<Component type="Driver">
				<Param enabled="false"/>
				<Param speed="3.0"/>
				<Param fast_factor="15.0"/>
				<Param inverted_keyboard="false"/>
				<Param inverted_mouse="false"/>
				<Param mouse_enabled_h="true"/>
				<Param mouse_enabled_p="false"/>
			</Component>
			<Component type="Model" priority="100">
				<Param model_file="panda"/>
				<Param anim_files="panda-walk"/>
				<Param scale_x="1.0"/>
				<Param scale_y="1.0"/>
				<Param scale_z="1.0"/>
			</Component>
			<Component type="RigidBody" priority="90">
				<Param body_type="kinematic"/>
				<Param body_mass="1.0"/>
				<Param body_friction="0.8"/>
				<Param body_restitution="0.1"/>
				<Param shape_type="sphere"/>
				<Param collide_mask="all_on"/>
			</Component> 
			<Component type="Sound3d">
				<Param sound_files="/usr/share/panda3d/models/audio/sfx/GUI_rollover.wav"/>
			</Component>
			<Param parent="render"/>
			<Param pos_x="0.0"/>
			<Param pos_y="0.0"/>
			<Param pos_z="8.0"/>
			<Param rot_h="-90.0"/>
			<Param rot_p="0.0"/>
			<Param rot_r="0.0"/>
		</Object>
	</ObjectSet>
</Game>
