<?xml version="1.0"?>
<Game>
	<!-- ------------------------------------------------ -->
	<!-- 		Object Templates Definitions              -->
	<!-- ------------------------------------------------ -->
	<ObjectTmplSet>
		<!-- template for wrapper around predefined nodepath - Mandatory -->
		<ObjectTmpl type="Render">
			<ComponentTmpl family="Scene" type="NodePathWrapper"/>
		</ObjectTmpl>
		
		<ObjectTmpl type="Camera">
			<ComponentTmpl family="Scene" type="NodePathWrapper"/>
			<ComponentTmpl family="Control" type="Driver"/>
			<ComponentTmpl family="Audio" type="Listener"/>
		</ObjectTmpl>
		
		<ObjectTmpl type="Actor">
			<ComponentTmpl family="Scene" type="Model"/>
			<ComponentTmpl family="Behavior" type="Activity"/>
			<ComponentTmpl family="Control" type="Driver"/>
			<ComponentTmpl family="Audio" type="Sound3d"/>
			<ComponentTmpl family="Physics" type="RigidBody"/> 
		</ObjectTmpl>

		<ObjectTmpl type="Character">
			<ComponentTmpl family="Scene" type="Model"/>
			<ComponentTmpl family="Behavior" type="Activity"/>
			<ComponentTmpl family="Audio" type="Sound3d"/>
			<ComponentTmpl family="Physics" type="CharacterController"/> 
		</ObjectTmpl>
		
		<ObjectTmpl type="StaticActor">
			<ComponentTmpl family="Scene" type="Model"/>
			<ComponentTmpl family="Physics" type="RigidBody"/> 
		</ObjectTmpl>
		
		<!-- templates for instancing -->
		<ObjectTmpl type="Instanceable">
			<ComponentTmpl family="Scene" type="Model"/>
		</ObjectTmpl>
		
		<ObjectTmpl type="InstancedActor">
			<ComponentTmpl family="Scene" type="InstanceOf"/>
			<ComponentTmpl family="Audio" type="Sound3d"/>
			<ComponentTmpl family="Physics" type="RigidBody"/> 
		</ObjectTmpl>
		
		<ObjectTmpl type="Terrain">
			<ComponentTmpl family="Scene" type="Terrain"/>
			<ComponentTmpl family="Physics" type="RigidBody"/> 
		</ObjectTmpl>

	</ObjectTmplSet>

	<!-- ------------------------------------------------ -->
	<!-- 		Objects and Scene Creation                -->
	<!-- ------------------------------------------------ -->
	<ObjectSet>
	
		<!-- wrapper around render nodepath - Mandatory -->
		<Object type="Render" id="render" priority="1000">
			<Component type="NodePathWrapper">
				<Param nodepath="render"/>
			</Component>
			<Param parent=""/>
		</Object>
		
		<Object type="Camera" id="camera" priority="1000">
			<Component type="NodePathWrapper" priority="100">
				<Param nodepath="camera"/>
			</Component>
			<Component type="Driver">
				<Param enabled="false"/>
				<Param speed="3.0"/>
				<Param fast_factor="10.0"/>
				<Param roll_left=""/>
				<Param roll_right=""/>
				<Param inverted_keyboard="true"/>
				<Param inverted_mouse="false"/>
				<Param mouse_enabled_h="true"/>
				<Param mouse_enabled_p="true"/>
				<Param events="w"/>
				<Param events="w-up"/>
				<Param events="shift-w"/>
				<Param events="s"/>
				<Param events="s-up"/>
				<Param events="shift-s"/>
				<Param events="a"/>
				<Param events="a-up"/>
				<Param events="shift-a"/>
				<Param events="d"/>
				<Param events="d-up"/>
				<Param events="shift-d"/>
				<Param events="r"/>
				<Param events="r-up"/>
				<Param events="shift-r"/>
				<Param events="f"/>				
				<Param events="f-up"/>
				<Param events="shift-f"/>
				<Param events="shift"/>				
				<Param events="shift-up"/>
			</Component>
			<Param parent=""/>
			<Param pos_x="50.0"/>
			<Param pos_y="-400.0"/>
			<Param pos_z="120.0"/>
		</Object>

		<Object type="InstancedActor" id="InstancedTeapot1">
			<Param parent="render"/>
			<Param is_static="false"/>
			<Param pos_x="100.0"/>
			<Param pos_y="0.0"/>
			<Param pos_z="200.0"/>
			<Param rot_h="-90.0"/>
			<Param rot_p="0.0"/>
			<Param rot_r="0.0"/>
			<Component type="RigidBody" priority="90">
				<Param body_type="dynamic"/>
				<Param body_mass="1.0"/>
				<Param body_friction="0.8"/>
				<Param body_restitution="0.5"/>
				<Param shape_type="capsule"/>
				<Param shape_size="minimum"/>
				<Param collide_mask="all_on"/>
			</Component> 
			<Component type="InstanceOf" priority="100">
				<Param instance_of="Teapot1"/>
				<Param scale_x="0.5"/>
				<Param scale_y="0.5"/>
				<Param scale_z="3.0"/>
			</Component>
		</Object>
		
		<Object type="Instanceable" id="Teapot1" priority="100">
			<Component type="Model" priority="100">
				<Param model_file="teapot"/>
				<Param is_static="true"/>
				<Param scale_x="0.5"/>
				<Param scale_y="0.5"/>
				<Param scale_z="0.5"/>
			</Component>
			<Param parent=""/>
		</Object>

		<Object type="StaticActor" id="Plane1">
			<Component type="Model" priority="100">
				<Param from_file="false"/>
				<Param is_static="true"/>
				<Param model_type="card"/>
				<Param model_card_left="-1000.0"/>
				<Param model_card_right="1000.0"/>
				<Param model_card_bottom="-1000.0"/>
				<Param model_card_top="1000.0"/>
			</Component>
			<Component type="RigidBody" priority="90">
				<Param body_type="static"/>
				<Param body_friction="0.9"/>
				<Param body_restitution="0.2"/>
				<Param shape_type="plane"/>
				<Param shape_norm_x="0.0"/>
				<Param shape_norm_y="-1.0"/>
				<Param shape_norm_z="0.0"/>
				<Param shape_d="0.0"/>
			</Component> 
			<Param parent="render"/>
			<Param rot_p="-90.0"/>
		</Object>
		
		<Object type="Actor" id="Actor1"  priority="100">
			<Component type="Activity"  priority="-100">
				<Param states="forward"/>
				<Param states="backward"/>
				<Param states="strafe_left"/>
				<Param states="strafe_right"/>
				<Param states="up"/>
				<Param states="down"/>
				<Param from_to="forward_FromTo_strafe_left"/>
				<Param from_to="forward_FromTo_strafe_right"/>
				<Param events="arrow_up"/>
				<Param events="arrow_up-up"/>
				<Param events="shift-arrow_up"/>
				<Param events="arrow_down"/>
				<Param events="arrow_down-up"/>
				<Param events="shift-arrow_down"/>
				<Param events="arrow_left"/>
				<Param events="arrow_left-up"/>
				<Param events="shift-arrow_left"/>
				<Param events="arrow_right"/>
				<Param events="arrow_right-up"/>
				<Param events="shift-arrow_right"/>
				<Param events="page_up"/>
				<Param events="page_up-up"/>
				<Param events="shift-page_up"/>
				<Param events="page_down"/>
				<Param events="page_down-up"/>
				<Param events="shift-page_down"/>
				<Param events="shift"/>				
				<Param events="shift-up"/>
			</Component>
			<Component type="Driver">
				<Param enabled="false"/>
				<Param speed="3.0"/>
				<Param fast_factor="15.0"/>
				<Param inverted_keyboard="false"/>
				<Param inverted_mouse="false"/>
				<Param mouse_enabled_h="true"/>
				<Param mouse_enabled_p="false"/>
			</Component>
			<Component type="Model" priority="100">
				<Param model_file="panda"/>
				<Param anim_files="panda-walk"/>
				<Param scale_x="1.0"/>
				<Param scale_y="1.0"/>
				<Param scale_z="1.0"/>
			</Component>
			<Component type="RigidBody" priority="90">
				<Param body_type="dynamic"/>
				<Param body_mass="1.0"/>
				<Param body_friction="0.8"/>
				<Param body_restitution="0.1"/>
				<Param shape_type="capsule"/>
				<Param shape_size="maximum"/>
				<Param collide_mask="all_on"/>
			</Component> 
			<Component type="Sound3d">
				<Param sound_files="/usr/share/panda3d/models/audio/sfx/GUI_rollover.wav"/>
			</Component>
			<Param parent="render"/>
			<Param pos_x="180.0"/>
			<Param pos_y="250.0"/>
			<Param pos_z="300.0"/>
			<Param rot_h="-90.0"/>
			<Param rot_p="0.0"/>
			<Param rot_r="0.0"/>
		</Object>

		<Object type="Character" id="NPC1"  priority="100">
			<Component type="Activity"  priority="-100">
				<Param states="forward"/>
				<Param states="backward"/>
				<Param states="strafe_left"/>
				<Param states="strafe_right"/>
				<Param states="roll_left"/>
				<Param states="roll_right"/>
				<Param states="jump"/>
				<Param states="idle"/>
				<Param from_to="forward_FromTo_roll_left"/>
				<Param from_to="forward_FromTo_roll_right"/>
				<Param events="i"/>
				<Param events="i-up"/>
				<Param events="alt-i"/>
				<Param events="k"/>
				<Param events="k-up"/>
				<Param events="alt-k"/>
				<Param events="j"/>
				<Param events="j-up"/>
				<Param events="alt-j"/>
				<Param events="l"/>
				<Param events="l-up"/>
				<Param events="alt-l"/>
				<Param events="u"/>
				<Param events="u-up"/>
				<Param events="alt-u"/>
				<Param events="o"/>
				<Param events="o-up"/>
				<Param events="alt-o"/>
				<Param events="space"/>				
				<Param events="space-up"/>
				<Param events="alt-space"/>
				<Param events="alt"/>				
				<Param events="alt-up"/>
			</Component>
			<Component type="Model" priority="100">
				<Param model_file="eve/eve"/>
				<Param anim_files="eve/eve-walk"/>
				<Param anim_files="eve/eve-run"/>
				<Param anim_files="eve/eve-jump"/>
				<Param anim_files="eve/eve-offbalance"/>
				<Param scale_x="5.0"/>
				<Param scale_y="5.0"/>
				<Param scale_z="5.0"/>
			</Component>
			<Component type="CharacterController" priority="90">
				<Param shape_type="capsule"/>
				<Param shape_size="medium"/>
				<Param linear_speed="10.0"/>
			</Component> 
			<Component type="Sound3d">
				<Param sound_files="/usr/share/panda3d/models/audio/sfx/GUI_click.wav"/>
			</Component>
			<Param parent="render"/>
			<Param pos_x="50.0"/>
			<Param pos_y="50.0"/>
			<Param pos_z="200.0"/>
			<Param rot_h="0.0"/>
			<Param rot_p="0.0"/>
			<Param rot_r="0.0"/>
		</Object>

<!--
		<Object type="Terrain" id="Terrain1">
			<Component type="Terrain" priority="100">
				<Param heightfield_file="../PandaGame/Models/heightfield.png"/>
				<Param texture_file="terrain.png"/>
				<Param height_scale="200.0"/>
				<Param width_scale="2.0"/>
				<Param brute_force="true"/>
				<Param auto_flatten="AFM_off"/>
				<Param focal_point="Actor1"/>
				<Param minimum_level="0"/>
				<Param near_percent="0.1"/>
				<Param far_percent="0.7"/>
			</Component>
			<Component type="RigidBody" priority="90">
				<Param body_type="static"/>
				<Param shape_heightfield_file="../PandaGame/Models/heightfield.png"/>
				<Param shape_type="heightfield"/>
				<Param shape_height="200.0"/>
				<Param shape_scale_w="2.0"/>
				<Param shape_scale_d="2.0"/>
				<Param shape_up="z"/>
			</Component> 
			<Param parent="render"/>
		</Object>
-->

	</ObjectSet>
</Game>
